<ion-view class="textSelect" ng-controller="TextSelectCtrl">
  <!-- send popup -->
  <gw-mob-popup class="sendPopup" ng-if="sendPopupVisible">
    <gw-mob-send
      sendsms="sendSMS()"
      sendemail="sendEmail()"
      sendfacebook="sendFacebook()">
    </gw-mob-send>
    <div class="popupButton" ng-click="sendCancelButtonClick()">Cancel</div>
  </gw-mob-popup>
  <!-- contact picker popup -->
  <gw-mob-popup class="contactPopup" ng-if="contactPopupVisible">
    <gw-mob-contact
      showemailaddress="sendMethod==='Email'"
      showmobilenumber="sendMethod==='SMS'"
      emailaddresslabel="'Mum\'s Email Address'"
      mobilenumberlabel="'Mum\'s Mobile Number'"
      emailaddress="settings.emailAddress"
      mobilenumber="settings.mobileNumber">
    </gw-mob-contact>
    <div class="popupButton" ng-if="contactSendButtonVisible()" ng-click="contactSendButtonClick()">Send</div>
    <div class="popupButton" ng-click="contactCancelButtonClick()">Cancel</div>
  </gw-mob-popup>
  <!-- bottom bar -->
  <div class="bottomBar" ng-if="textList && !endOfTextVisible() && bottomBarVisible">
    <div class="likeDislikeButton icon ion-thumbsdown" ng-click="dislikeButtonClick()"></div> 
    <div class="sendButton" ng-click="sendButtonClick()">Send</div>
    <div class="likeDislikeButton ion-thumbsup" ng-click="likeButtonClick(item)"></div> 
  </div>
  <ion-content scroll="true" scrollbar-y="false" has-bouncing="false" style="width:{{windowWidth}}px">
    <!-- settings button -->
    <div class="settingsButton icon ion-gear-a" ng-click="settingsButtonClick()"></div>
    <!-- debug button -->
    <div class="debugButton" ng-click="debugButtonClick()"></div>
    <!-- image slides -->
    <gw-mob-slideswipe
      getnextitem="getNextImage(currentImage)"
      getpreviousitem="getPreviousImage(currentImage)"
      currentitem="currentImage"
      width="deviceWidth"
      height="slideImageHeight">
      <!-- slide -->
      <gw-mob-slide>
        <div class="imageContainer" style="height:{{slideImageHeight}}px">
          <!-- more images text -->
          <div class="moreImagesText" ng-show="item.indexOf('eof')!==-1">Come tomorrow<br>for more kittens!</div>
          <!-- image -->
          <div class="image" style="background-image:url('{{item}}')"></div>
        </div>
      </gw-mob-slide>
    </gw-mob-slideswipe>
    <!-- image dot indicator -->
    <div class="dotIndicatorContainer" style="top:{{slideImageHeight-22}}px">
      <div class="dotIndicatorCenter">
        <gw-mob-dotindicator count="imageList.length+1" index="getImageIndex(currentImage)"></gw-mob-dotindicator>
      </div>
    </div>
    <!-- text slides -->
    <gw-mob-slideswipe
      ng-if="textList"
      getnextitem="getNextText(currentText)"
      getpreviousitem="getPreviousText(currentText)"
      currentitem="$parent.$parent.currentText"
      swipeLeft="$parent.$parent.swipeLeft"
      swipeRight="$parent.swipeRight"
      swipedleft="textSwiped()"
      swipedright="textSwiped()"
      width="deviceWidth">
      <!-- slide -->
      <gw-mob-slide>
        <!-- text -->
        <div class="text">{{item.text.Content}}</div>
      </gw-mob-slide>
    </gw-mob-slideswipe>
    <!-- text dot indicator -->
    <div class="dotIndicatorContainer" style="top:{{slideImageHeight+2}}px">
      <div class="dotIndicatorCenter">
        <gw-mob-dotindicator count="textList.length+1" index="getTextIndex(currentText)"></gw-mob-dotindicator>
      </div>
    </div>
  </ion-content>
</ion-view>
